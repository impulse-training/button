var n=6e5,o=(require("puckjsv2-accel-movement").on({threshold:10}),global);function e(t,i){o.idleTimeout=null,o.throwawayMovementEvent=!0,o.lastWokeAtSeconds=0,Puck.on("accel",function(){if(o.idleTimeout)clearTimeout(o.idleTimeout);else{if(o.throwawayMovementEvent)return void(o.throwawayMovementEvent=!1);var e=(new Date).getTime()/1e3;if(e-o.lastWokeAtSeconds<1800)return;o.lastWokeAtSeconds=e,t()}o.idleTimeout=setTimeout(function(){o.idleTimeout=null,i()},o.throwawayMovementEvent?3e3:n)})}var t,i=2500,a=500,c=0,u=null,f=null,r=!1;function s(e,t){setWatch(function(){clearTimeout(f),r?r=!1:(c+=1,u&&clearTimeout(u),u=setTimeout(function(){e(c),u=null,c=0},a))},BTN,{edge:"falling",repeat:!0,debounce:10}),setWatch(function(){f=setTimeout(function(){t(),r=!0},i)},BTN,{edge:"rising",repeat:!0,debounce:10})}function l(e,t,i){for(var n=0;n<t;n++)setTimeout(function(){e.write(!0)},2*i*n+1),setTimeout(function(){e.write(!1)},2*i*n+i)}(t={active:{advertisingData:[3,3,221,188],fourBit:"bcdd",sixteenBit:"0000bcdd-0000-1000-8000-00805f9b34fb"}})[1]={advertisingData:[3,3,222,188],fourBit:"bcde",sixteenBit:"0000bcde-0000-1000-8000-00805f9b34fb"},t[2]={advertisingData:[3,3,226,188],fourBit:"bce2",sixteenBit:"0000bce2-0000-1000-8000-00805f9b34fb"},t[3]={advertisingData:[3,3,227,188],fourBit:"bce3",sixteenBit:"0000bce3-0000-1000-8000-00805f9b34fb"},t[4]={advertisingData:[3,3,228,188],fourBit:"bce4",sixteenBit:"0000bce4-0000-1000-8000-00805f9b34fb"},t[5]={advertisingData:[3,3,229,188],fourBit:"bce5",sixteenBit:"0000bce5-0000-1000-8000-00805f9b34fb"},t.longPress={advertisingData:[3,3,223,188],fourBit:"bcdf",sixteenBit:"0000bcdf-0000-1000-8000-00805f9b34fb"};var d=t;function b(){NRF.setAdvertising({},{name:"Impulse"})}function v(e){e=d[e];e.advertisingData,e.fourBit;NRF.wake()}global.debugMode=!1;var m="idle",g=[];function D(){v(m="active"),l(LED3,6,20)}function B(){m="idle",NRF.sleep()}function T(e){m="press",e<2?v(1):e<6&&v(e),l(LED2,6,20)}function w(){v(m="longPress"),l(LED1,12,20)}b();var E=function(){"idle"===m&&(D(),l(LED2,6,20))},h=function(){"active"===m&&B()};function L(e){LED3.write(!0),g.includes(e)||(l(LED3,10,20),g.push(e))}function p(){m="idle",LED3.write(!1),NRF.sleep(),global.debugMode&&(LED2.write(!1),l(LED1,2,250))}e(E,h),s(T,w),NRF.on("disconnect",p),NRF.on("connect",L);
